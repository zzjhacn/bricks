<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
	xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd">

	<dubbo:application logger="log4j" name="micor-service-kvs-server" />
	<dubbo:registry address="zookeeper://127.0.0.1:2181" />
	<dubbo:protocol name="dubbo" port="20882" />
	<dubbo:protocol name="http" port="8001" />

	<bean class="com.bricks.core.schedule.SimpleScheduler" />
	<bean class="com.bricks.core.SpringCtxHolder" />
	<bean class="com.bricks.core.redis.RedisService" p:addr="localhost" />

	<bean id="kvStore" class="com.bricks.kvs.server.KVStoreImpl" />

	<dubbo:service protocol="http"  interface="com.bricks.kvs.KVStore" ref="kvStore" />
	<dubbo:service protocol="dubbo" interface="com.bricks.kvs.KVStore" ref="kvStore" />
	<dubbo:service protocol="dubbo"  interface="com.bricks.core.simpleservice.DubboBasedServiceServer" ref="kvStore" />

</beans>
